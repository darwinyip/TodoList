<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>Todo List</title>
	</head>
	<body>
		<h1 id="h1">Todo List</h1>
		<input type="text" id="text">
		<button type="button" onclick=l.run()>Add to list</button>
		<ul id="ul">
		</ul>
		<script>
			class TodoList {
				constructor() {
					this.list = [];
				}

				appendItem() {
					let form = document.getElementById("text");
					if(form.value) {
						this.list.push(form.value);
					}
					form.value = "";
				}

				createList() {
					let ul = document.getElementById("ul");
					ul.innerHTML = "";
					for(let i = 0; i < this.list.length; i++) {
						let item = document.createElement("li");
						let text = document.createElement("input");
						text.setAttribute("type", "text");
						text.setAttribute("value", this.list[i]);
						item.appendChild(text);
						let check = document.createElement("input");
						check.setAttribute("type", "checkbox");
						item.append(check);
						ul.append(item);
					}
				}

				updateCount() {
					if(this.list.length) {
						document.getElementById("h1").textContent = "Todo List (" + this.list.length + ")";
					}
				}

				run() {
					this.appendItem();
					this.createList();
					this.updateCount();
				}
			}

			let l = new TodoList();
		</script>
	</body>
</html>